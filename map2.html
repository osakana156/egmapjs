<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"/>

<title>みんなどこ通った？ｍａｐ</title>

<link rel="apple-touch-icon" href="app-icon.png"/>
<meta property="og:image" content="ogp-image.jpg"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
<script src="https://code4fukui.github.io/egmapjs/egmap.js"></script>
<link rel="stylesheet" href="https://code4fukui.github.io/egmapjs/egmap.css"/>
<script src="https://fukuno.jig.jp/fukuno.js"></script>
<script src="https://code4fukui.github.io/egmapjs/sparql.js"></script>
<script>"use strict"

window.onload = function() {
	var map = initMap('mapid')
	map.setZoom(14)
//	map.panTo([ 35.943560,136.188917 ]) // 鯖江駅
//	map.addIcon(35.943560,136.188917, "鯖江駅")
	
	var arys = [
//	  [35.943560,136.188917], 	// 鯖江駅
//	  [35.944571,136.186228],	// hana道場
	[35.929915,136.186217],
	[35.929539,136.187577],
	[35.930557,136.187538],
	[35.931449,136.1875],
	[35.93241,136.187477],
	[35.933462,136.187442],
	[35.934363,136.187435],
	[35.935443,136.187469],
	[35.935829,136.186453],
	[35.936662,136.187159],
	[35.937422,136.187762],
	[35.938251,136.188293],
	[35.939309,136.188432],
	[35.940217,136.188512],
	[35.941074,136.188593],
	[35.941982,136.188603],
	[35.942719,136.188562],
	[35.943297,136.188702]
	];
//2
var arys2 = [
[35.929915,136.186217],
[35.929539,136.187577],
[35.930557,136.187538],
[35.931449,136.1875],
[35.93241,136.187477],
[35.9324382,136.1890904],
[35.932433,136.188561],
[35.933478,136.189591],
[35.934147,136.189623],
[35.934794,136.189735],
[35.935517,136.189902],
[35.936854,136.190445],
[35.937662,136.190895],
[35.938438,136.191297],
[35.939408,136.19178],
[35.93935,136.190364],
[35.939307,136.18935],
[35.939309,136.188432],
[35.940217,136.188512],
[35.941074,136.188593],
[35.941982,136.188603],
[35.942719,136.188562],
[35.943297,136.188702]
];

//3
var arys3 = [
[35.929915,136.186217],
[35.929539,136.187577],
[35.930557,136.187538],
[35.931449,136.1875],
[35.93241,136.187477],
[35.933462,136.187442],
[35.934363,136.187435],
[35.935443,136.187469],
[35.935456,136.187796],
[35.936237,136.188206],
[35.937434,136.188862],
[35.938651,136.189494],
[35.939304,136.189574],
[35.939309,136.188432],
[35.940217,136.188512],
[35.941074,136.188593],
[35.941982,136.188603],
[35.942719,136.188562],
[35.943297,136.188702]
];	

//4
var arys4 = [
[35.929915,136.186217],
[35.929539,136.187577],
[35.930557,136.187538],
[35.931449,136.1875],
[35.93241,136.187477],
[35.932396,136.186237],
[35.932389,136.18467],
[35.932409,136.183602],
[35.932429,136.182196],
[35.93242,136.180862],
[35.933297,136.181066],
[35.933725,136.181162],
[35.934328,136.181325],
[35.93462,136.181399],
[35.935061,136.181495],
[35.935533,136.181796],
[35.936064,136.182002],
[35.936419,136.182082],
[35.937006,136.182243],
[35.93749,136.182362],
[35.937866,136.182477],
[35.938396,136.182702],
[35.939081,136.183106],
[35.939508,136.183365],
[35.939985,136.183617],
[35.940339,136.183775],
[35.940875,136.183948],
[35.941432,136.184121],
[35.94196,136.18429],
[35.942694,136.184569],
[35.943664,136.184979],
[35.943561,136.185689],
[35.943448,136.186589],
[35.94341,136.187659],
[35.943297,136.188702]
];
	
	for( var ary of arys) {
		map.addIcon( ary[0], ary[1], "足跡っ！", "footprint.png", 32 )
	}	

	for( var ary of arys2) {
		map.addIcon( ary[0], ary[1], "足跡っ！", "footprint2.png", 16 )
	}	

	for( var ary of arys3) {
		map.addIcon( ary[0], ary[1], "足跡っ！", "footprint3.png", 16 )
	}	

	for( var ary of arys4) {
		map.addIcon( ary[0], ary[1], "足跡っ！", "footprint4.png", 16 )
	}	



	
	var current = map.addIcon(0, 0, "現在地", "icon-walking.png", 48, 48)
	navigator.geolocation.watchPosition(function(gpos) {
		const pos = [ gpos.coords.latitude, gpos.coords.longitude ]
		current.setLatLng(pos)
		map.panTo(pos)
	}, function() {
		alert("現在位置に取得に失敗！")
	})

}

</script>
<style>

body { margin: 0; font-family: sans-serif; text-align: center; }
h1 { font-size: 5vw; margin: 0; }
#mapid { height: 60vh; }

</style></head><body>

<h1>みんなどこ通った？ｍａｐ</h1>
<div id="mapid"></div>

</body></html>
